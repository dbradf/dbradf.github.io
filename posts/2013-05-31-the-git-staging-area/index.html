<!DOCTYPE html>
<html
  dir="ltr"
  lang="en"
  data-theme=""
  class="html"
><head>
  <title>
    
      David Bradford
        |
        The git staging area


      


    
  </title>

  
  <meta charset="utf-8" /><meta name="generator" content="Hugo 0.92.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="author" content="David Bradford" />
  <meta
    name="description"
    content="
      Random thoughts and stuff


    "
  />
  
  
    
    
    <link
      rel="stylesheet"
      href="/scss/main.min.91c219aefcfd49429492d073fcd4c34c62824982e597c7b13c4ab8a60a651c3a.css"
      integrity="sha256-kcIZrvz9SUKUktBz/NTDTGKCSYLll8exPEq4pgplHDo="
      crossorigin="anonymous"
      type="text/css"
    />

  

  
  <link
    rel="stylesheet"
    href="/css/markupHighlight.min.31b0a1f317f55c529a460897848c97436bb138b19c399b37de70d463a8bf6ed5.css"
    integrity="sha256-MbCh8xf1XFKaRgiXhIyXQ2uxOLGcOZs33nDUY6i/btU="
    crossorigin="anonymous"
    type="text/css"
  />
  
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/fontawesome.min.69685904d5c2a0c6258d03c207b778c10466edf6cea928cc0164c376b0ad0930.css"
    integrity="sha256-aWhZBNXCoMYljQPCB7d4wQRm7fbOqSjMAWTDdrCtCTA="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/solid.min.6d585e78d28cce1200d39fb133c92ed83df01738da721d0f48fb6eac62d24e04.css"
    integrity="sha256-bVheeNKMzhIA05&#43;xM8ku2D3wFzjach0PSPturGLSTgQ="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link
    rel="stylesheet"
    href="/fontawesome/css/brands.min.6b00d96498d59caa0dbcf9b49d30d821915291f2ceb0e19248523c8607ff43fa.css"
    integrity="sha256-awDZZJjVnKoNvPm0nTDYIZFSkfLOsOGSSFI8hgf/Q/o="
    crossorigin="anonymous"
    type="text/css"
  />
  
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />

  <link rel="canonical" href="http://dbradf.github.io/posts/2013-05-31-the-git-staging-area/" />

  
  
  
  
  <script
    type="text/javascript"
    src="/js/anatole-header.min.46e6a54097480084f8f52c20ca1aa7425b4fad17029a887fd4017b12e311a72d.js"
    integrity="sha256-RualQJdIAIT49SwgyhqnQltPrRcCmoh/1AF7EuMRpy0="
    crossorigin="anonymous"
  ></script>

  
    
    
    <script
      type="text/javascript"
      src="/js/anatole-theme-switcher.min.5557c8ff5617a01067ac258fd70b9b992506e379317b0da51e5e0f6e018b408a.js"
      integrity="sha256-VVfI/1YXoBBnrCWP1wubmSUG43kxew2lHl4PbgGLQIo="
      crossorigin="anonymous"
    ></script>

  

  


  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="The git staging area"/>
<meta name="twitter:description" content="Git encourages users to think about what they are committing and one of the ways that it does this is with the &ldquo;staging area.&rdquo;
Staging changes allows you to mark what changes should be included in the next commit. If no changes are staged, by default git commit won&rsquo;t do anything.
git status The &lsquo;git status&rsquo; command can be used to show the contents of the staging area. There are three areas where a file may show up in git status:"/>



  
  <meta property="og:title" content="The git staging area" />
<meta property="og:description" content="Git encourages users to think about what they are committing and one of the ways that it does this is with the &ldquo;staging area.&rdquo;
Staging changes allows you to mark what changes should be included in the next commit. If no changes are staged, by default git commit won&rsquo;t do anything.
git status The &lsquo;git status&rsquo; command can be used to show the contents of the staging area. There are three areas where a file may show up in git status:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://dbradf.github.io/posts/2013-05-31-the-git-staging-area/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2013-05-31T00:00:00+00:00" />
<meta property="article:modified_time" content="2013-05-31T00:00:00+00:00" /><meta property="og:site_name" content="David&#39;s Blog" />




  
  
  
  
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "articleSection": "posts",
        "name": "The git staging area",
        "headline": "The git staging area",
        "alternativeHeadline": "",
        "description": "
      
        Git encourages users to think about what they are committing and one of the ways that it does this is with the \u0026ldquo;staging area.\u0026rdquo;\nStaging changes allows you to mark what changes should be included in the next commit. If no changes are staged, by default git commit won\u0026rsquo;t do anything.\ngit status The \u0026lsquo;git status\u0026rsquo; command can be used to show the contents of the staging area. There are three areas where a file may show up in git status:


      


    ",
        "inLanguage": "en-us",
        "isFamilyFriendly": "true",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "http:\/\/dbradf.github.io\/posts\/2013-05-31-the-git-staging-area\/"
        },
        "author" : {
            "@type": "Person",
            "name": "David Bradford"
        },
        "creator" : {
            "@type": "Person",
            "name": "David Bradford"
        },
        "accountablePerson" : {
            "@type": "Person",
            "name": "David Bradford"
        },
        "copyrightHolder" : {
            "@type": "Person",
            "name": "David Bradford"
        },
        "copyrightYear" : "2013",
        "dateCreated": "2013-05-31T00:00:00.00Z",
        "datePublished": "2013-05-31T00:00:00.00Z",
        "dateModified": "2013-05-31T00:00:00.00Z",
        "publisher":{
            "@type":"Organization",
            "name": "David Bradford",
            "url": "http://dbradf.github.io/",
            "logo": {
                "@type": "ImageObject",
                "url": "http:\/\/dbradf.github.io\/favicon-32x32.png",
                "width":"32",
                "height":"32"
            }
        },
        "image": 
      [
      ]

    ,
        "url" : "http:\/\/dbradf.github.io\/posts\/2013-05-31-the-git-staging-area\/",
        "wordCount" : "950",
        "genre" : [ ],
        "keywords" : [ ]
    }
  </script>



</head>
<body
    
      class="body theme--light"

    
  >
    <div class="wrapper">
      <aside
        
          class="wrapper__sidebar"

        
      ><div
  class="sidebar
    animated fadeInDown

  "
>
  <div class="sidebar__content">
    <div class="sidebar__introduction">
      <img
        class="sidebar__introduction-profileimage"
        src="/images/profile.jpeg"
        alt="profile picture"
      />
      <h1 class="sidebar__introduction-title">
        <a href="/">David&#39;s Blog</a>
      </h1>
      <div class="sidebar__introduction-description">
        <p>Random thoughts and stuff</p>
      </div>
    </div>
    <ul class="sidebar__list">
      
        <li class="sidebar__list-item">
          <a href="https://www.linkedin.com/in/dbradf" rel="me" aria-label="Linkedin" title="Linkedin">
            <i class="fab fa-linkedin fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
        <li class="sidebar__list-item">
          <a href="https://www.github.com/dbradf" rel="me" aria-label="Github" title="Github">
            <i class="fab fa-github fa-2x" aria-hidden="true"></i>
          </a>
        </li>

      
    </ul>
  </div><footer class="footer footer__sidebar">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2013-2022

      
    </li>
    
  </ul>
</footer></div>
</aside>
      <main
        
          class="wrapper__main"

        
      >
        <header class="header"><div
  class="
    animated fadeInDown

  "
>
  <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
    <span aria-hidden="true" class="navbar-burger__line"></span>
  </a>
  <nav class="nav">
    <ul class="nav__list" id="navMenu">
      
      
        
        <li class="nav__list-item">
          <a
            
            href="/"
            
            title=""
            >Home</a
          >
        </li>

      
        
        <li class="nav__list-item">
          <a
            
            href="/resume/"
            
            title=""
            >Resume</a
          >
        </li>

      
        
        <li class="nav__list-item">
          <a
            
            href="/about/"
            
            title=""
            >About</a
          >
        </li>

      
    </ul>
    <ul class="nav__list nav__list--end">
      
      
        <li class="nav__list-item">
          <div class="themeswitch">
            <a title="Switch Theme">
              <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a>
          </div>
        </li>

      
    </ul>
  </nav>
</div>
</header>
  <div
    class="post 
      animated fadeInDown

    "
  >
    
    <div class="post__content">
      <h1>The Git Staging Area</h1>
      <p>Git encourages users to think about what they are committing and one of the ways that it does this is with the &ldquo;staging area.&rdquo;</p>
<p>Staging changes allows you to mark what changes should be included in the next commit. If no changes are staged, by default git commit won&rsquo;t do anything.</p>
<h3 id="git-status">git status</h3>
<p>The &lsquo;git status&rsquo; command can be used to show the contents of the staging area. There are three areas where a file may show up in git status:</p>
<ul>
<li>Changes to be committed</li>
</ul>
<p>This is the list of files in the staging area. These file have been modified and the user has told git to stage the changes.</p>
<ul>
<li>Changes not staged for commit</li>
</ul>
<p>This is the list of files that have been modified, but have not been staged.</p>
<ul>
<li>Untracked files</li>
</ul>
<p>These are files that do not belong to the git repository.</p>
<p>Here is some sample output from the git status command:</p>
<pre><code>$ git status
# On branch master
# Changes to be committed:
#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
#
#       modified:   vimrc
#
# Changes not staged for commit:
#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)
#
#       modified:   vim/colors/molokai.vim
#
# Untracked files:
#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)
#
#       untracked_file.txt
</code></pre>
<p>This output shows 4 files. One is the staging area (disk.c). One that has been modified, but not staged (diskworker.c). And two that are untracked (cscope.files and cscope.out).</p>
<p>In addition to showing the state of files in the repository, git status also shows what commands to run change the file state.</p>
<p>When the &lsquo;git add&rsquo; command is run on a file, it will add the changes to that file to the staging area. If the file was previously untracked, then it will be staged to start tracking that file.</p>
<p>When &lsquo;git reset HEAD&rsquo; command is run on a file, the changes to that file will be removed from the staging area. It is important to note that the changes are not removed from the file, the only change is that the file is no longer marked to be committed. The file will not show up in the &lsquo;changes not staged for commit&rsquo; section.</p>
<h3 id="git-commit">git commit</h3>
<p>After some changes have been added to the staging area, you can change your staging area to a commit with the &lsquo;git commit&rsquo; command. Running &lsquo;git commit&rsquo; will no arguments will commit the contents of the staging area in a new commit. When &lsquo;git commit&rsquo; is run, it will take you to an editor to create a commit message. The editor will be loaded with the output from &lsquo;git status&rsquo;, which will provide a summary of what is being committed.</p>
<h4 id="using-hunks">Using hunks</h4>
<p>It is interested to note that the staging area is not based on files, but based on changes. Which means that you can stage some changes to a file, but not all changes to a file.</p>
<p>This can be useful if you have unrelated changes that you would like to commit to 2 separate commits, or if you have extra code that is useful for testing, but you don&rsquo;t want to be committed. (Note: when crafting commits this way, I strongly recommend ensuring that the commit builds on its own before pushing it to other people. The git stash can be useful for doing this type of testing).</p>
<p>The &lsquo;git add -p&rsquo; command will take you through a file&rsquo;s changes hunk by hunk and let you specify whether that hunk should be staged or not. Here is an example:</p>
<pre><code>$ git add -p
diff --git a/vimrc b/vimrc
index 0febac4..944ccde 100644
--- a/vimrc
+++ b/vimrc
@@ -3,6 +3,8 @@

 let mapleader = &quot;,&quot;

+&quot; Change 1
+
 &quot; ======= General Options ========

 set nocompatible &quot; Don't need vi compatibility
Stage this hunk [y,n,q,a,d,/,j,J,g,e,?]? n
@@ -27,6 +29,9 @@ set directory=$HOME/tmp &quot; Use a temporary directory for swp files
 &quot; ======= Setup for terminials =======
 set t_Co=256

+
+&quot; Change 2 here
+
 &quot; ======= Setup Pathogen =======
 &quot; Note that you need to invoke the pathogen functions before invoking
 &quot; 'filetype plugin indent on' if you want it to load ftdetect files.
Stage this hunk [y,n,q,a,d,/,K,g,e,?]? 
</code></pre>
<p>There are a lot of choices. The two most command are &lsquo;y&rsquo; to add a change to the staging area and &lsquo;n&rsquo; to not a changes to the staging area.</p>
<p>A final note on hunks, using &lsquo;git add -p&rsquo; can be somewhat cumbersome (especially for a large amount of changes). There are, however, a lot of 3rd party tools and plugins that can make committing in hunks much easier. I frequently use the fugitive plugin for vim.</p>
<h3 id="git-diff">git diff</h3>
<p>While &lsquo;git status&rsquo; provides a nice summary of the current status of your changes, frequently you will want to see more details of what the actually changes are. The &lsquo;git diff&rsquo; command can show you what the actually changes are. There are three useful invocations of the &lsquo;git diff&rsquo; command:</p>
<ul>
<li>git diff</li>
</ul>
<p>By default, &lsquo;git diff&rsquo; will show you changes that have not been staged. This corresponds to the &lsquo;Changes not staged for commit&rsquo; section of &lsquo;git status&rsquo;.</p>
<ul>
<li>git diff &ndash;staged</li>
</ul>
<p>Adding the &ndash;staged flag to git diff will show you changes that have been staged. This corresponds to the &lsquo;Change to be committed&rsquo; section of &lsquo;git status&rsquo;.</p>
<ul>
<li>git diff HEAD</li>
</ul>
<p>The &lsquo;git diff HEAD&rsquo; invocation of &lsquo;git diff&rsquo; will show you both the staged and unstaged changes. This will show you all changed from the last commit.</p>
<p>By adding '' to the end of any of the &lsquo;git diff&rsquo; commands will only display changes for the specified file.</p>
</div>
    <div class="post__footer">
      

      
    </div>

    
  </div>


      </main>
    </div><footer class="footer footer__base">
  <ul class="footer__list">
    <li class="footer__item">
      &copy;
      
        2013-2022

      
    </li>
    
  </ul>
</footer></body>
</html>
